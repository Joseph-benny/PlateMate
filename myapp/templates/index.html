<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platemate - Menu</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600&family=Oswald:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Raleway', sans-serif;
        }

        .tm-bg-brown {
            background-color: #8B4513;
        }

        .tm-text-gold {
            color: #D4AF37;
        }

        .tm-text-brown {
            color: #8B4513;
        }

        .tm-border-gold {
            border-color: #D4AF37;
        }

        .tm-bg-green {
            background-color: #2E8B57;
        }

        .tm-text-green {
            color: #2E8B57;
        }

        .circular-image {
            border-radius: 50%;
            object-fit: cover;
            width: 80px;
            height: 80px;
            border: 3px solid #D4AF37;
        }

        .tm-item-container {
            color: white;
        }

        /* Order Tracking Styles */
        .order-card {
            transition: all 0.3s ease;
            border-left-width: 4px;
        }

        .order-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .order-card-pending {
            border-left-color: #f59e0b;
        }

        .order-card-ready {
            border-left-color: #10b981;
        }

        .order-card-served {
            border-left-color: #3b82f6;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-pending {
            background-color: #fef3c7;
            color: #92400e;
            border: 1px solid #fbbf24;
        }

        .status-ready {
            background-color: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
        }

        .status-served {
            background-color: #dbeafe;
            color: #1e40af;
            border: 1px solid #3b82f6;
        }

        .progress-bar {
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
            background-color: #e5e7eb;
        }

        .progress-fill {
            height: 100%;
            transition: width 1s ease-in-out;
        }

        .progress-pending {
            background: linear-gradient(90deg, #f59e0b, #fbbf24);
            width: 33%;
        }

        .progress-ready {
            background: linear-gradient(90deg, #10b981, #34d399);
            width: 66%;
        }

        .progress-served {
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            width: 100%;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out forwards;
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        .parallax-window {
            min-height: 100vh;
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .logo-font {
            font-family: 'Oswald', sans-serif;
        }

        /* Menu Headings Styled as Attractive Buttons */
        .tm-border-gold {
            border-color: #d4af37 !important;
        }

        .menu-heading-btn {
            display: inline-block;
            padding: 16px 24px;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            background: linear-gradient(135deg, #ff7b00, #ff5500);
            color: white;
            text-align: center;
            min-width: 180px;
            margin: 0 8px;
            text-decoration: none;
            line-height: 1.2;
        }

        .menu-heading-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .menu-heading-btn:hover::before {
            left: 100%;
        }

        .menu-heading-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            color: white;
            text-decoration: none;
        }

        .menu-heading-btn:active {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        /* Individual Button Color Variations */
        .menu-heading-btn.full-menu {
            background: linear-gradient(135deg, #FF6B35, #F7931E);
            border: 2px solid #E55A2B;
        }

        .menu-heading-btn.full-menu:hover {
            background: linear-gradient(135deg, #E55A2B, #E0821A);
        }

        .menu-heading-btn.top-rated {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border: 2px solid #E6B800;
            color: #8B4513;
        }

        .menu-heading-btn.top-rated:hover {
            background: linear-gradient(135deg, #E6B800, #E69500);
            color: #8B4513;
        }

        .menu-heading-btn.combo-offers {
            background: linear-gradient(135deg, #D2691E, #A0522D);
            border: 2px solid #8B4513;
            color: #FFEBCD;
        }

        .menu-heading-btn.combo-offers:hover {
            background: linear-gradient(135deg, #B3591B, #8B4513);
            color: #FFEBCD;
        }

        .menu-heading-btn.special-offers {
            background: linear-gradient(135deg, #FF8C00, #FF6347);
            border: 2px solid #FF4500;
            color: white;
        }

        .menu-heading-btn.special-offers:hover {
            background: linear-gradient(135deg, #E67E00, #E0553E);
            color: white;
        }

        /* Active State */
        .menu-heading-btn.active {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
            border: 2px solid #FFD700;
            position: relative;
        }

        .menu-heading-btn.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 3px;
            background: #FFD700;
            border-radius: 2px;
        }

        /* Icon Styling */
        .menu-heading-btn i {
            margin-right: 8px;
            font-size: 18px;
        }

        /* Container for the buttons */
        .menu-headings-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 20px;
            background: linear-gradient(135deg, #FFF8DC, #FFE4B5);
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid #D2691E;
        }

        /* Badge for Special Offers */
        .menu-heading-btn.special-offers {
            position: relative;
        }

        .menu-heading-btn.special-offers::after {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #FF4444;
            color: white;
            font-size: 10px;
            font-weight: bold;
            padding: 3px 8px;
            border-radius: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .menu-headings-container {
                flex-direction: column;
                align-items: center;
            }

            .menu-heading-btn {
                min-width: 200px;
                margin: 5px 0;
                width: 100%;
                max-width: 250px;
            }

            .menu-heading-btn.special-offers::after {
                top: -5px;
                right: -5px;
                font-size: 9px;
                padding: 2px 6px;
            }
        }

        .py-2{
            color:black;
            background: darkorange;
        }

        /* Animation for page load */
        @keyframes buttonSlideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .menu-heading-btn {
            animation: buttonSlideIn 0.6s ease-out;
        }

        .menu-heading-btn:nth-child(2) {
            animation-delay: 0.1s;
        }

        .menu-heading-btn:nth-child(3) {
            animation-delay: 0.2s;
        }

        .menu-heading-btn:nth-child(4) {
            animation-delay: 0.3s;
        }

        /* Focus states for accessibility */
        .menu-heading-btn:focus {
            outline: 3px solid #FFD700;
            outline-offset: 2px;
        }

        /* Loading state */
        .menu-heading-btn.loading {
            pointer-events: none;
            opacity: 0.7;
        }

        .menu-heading-btn.loading::after {
            content: '...';
            margin-left: 5px;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0%, 33% { content: '.'; }
            34%, 66% { content: '..'; }
            67%, 100% { content: '...'; }
        }

        /* New Styles for Grid Layout */
        .menu-grid-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            padding: 20px;
        }

        .menu-item-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .menu-item-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .menu-item-image-container {
            height: 180px;
            overflow: hidden;
            position: relative;
        }

        .menu-item-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .menu-item-card:hover .menu-item-image {
            transform: scale(1.1);
        }

        .menu-item-category {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(139, 69, 19, 0.85);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            z-index: 2;
        }

        .menu-item-content {
            padding: 15px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .menu-item-name {
            font-size: 18px;
            font-weight: 700;
            color: #8B4513;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .menu-item-price {
            font-size: 20px;
            font-weight: 800;
            color: #D4AF37;
            margin-bottom: 15px;
        }

        .menu-item-actions {
            margin-top: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .quantity-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #f8f4e9;
            border: 2px solid #D4AF37;
            color: #8B4513;
            font-weight: bold;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quantity-btn:hover {
            background: #D4AF37;
            color: white;
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            font-size: 18px;
            font-weight: 700;
            color: #8B4513;
            border: 2px solid #f0e6d2;
            border-radius: 8px;
            padding: 5px;
            background: #fdfaf3;
        }

        .add-to-cart-btn {
            background: linear-gradient(135deg, #8B4513, #A0522D);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .add-to-cart-btn:hover {
            background: linear-gradient(135deg, #A0522D, #8B4513);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.3);
        }

        .add-to-cart-btn.added {
            background: linear-gradient(135deg, #2E8B57, #3CB371);
        }

        .add-to-cart-btn.added:hover {
            background: linear-gradient(135deg, #3CB371, #2E8B57);
        }

        /* Responsive Grid */
        @media (max-width: 1400px) {
            .menu-grid-container {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 1100px) {
            .menu-grid-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .menu-grid-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            .menu-grid-container {
                grid-template-columns: 1fr;
                gap: 15px;
                padding: 10px;
            }
        }

        /* No Results Message */
        .no-results {
            grid-column: 1 / -1;
            text-align: center;
            padding: 40px 20px;
            background: white;
            border-radius: 15px;
            margin: 20px 0;
        }

        .no-results-icon {
            font-size: 60px;
            color: #D4AF37;
            margin-bottom: 20px;
        }

        .no-results h3 {
            font-size: 24px;
            color: #8B4513;
            margin-bottom: 10px;
        }

        .no-results p {
            color: #666;
            font-size: 16px;
        }
    </style>
</head>
<body class="bg-amber-50">
    <!-- Intro Section -->
    <div id="intro" class="parallax-window" style="background-image: url('https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')">
        <nav class="py-6">
            <div class="container mx-auto px-4 text-right">
                <button class="md:hidden py-2 px-2" id="menu-toggle">
                    <svg class="w-8 h-8 tm-text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
                <ul class="mb-3 md:mb-0 text-2xl font-normal flex justify-end flex-col md:flex-row">
                    <li class="inline-block mb-4 mx-4"><a href="#intro" class="tm-text-gold py-1 md:py-3 px-4 hover:text-amber-200 transition">Intro</a></li>
                    <li class="inline-block mb-4 mx-4"><a href="#menu" class="tm-text-gold py-1 md:py-3 px-4 hover:text-amber-200 transition">Menu</a></li>
                    <li class="inline-block mb-4 mx-4"><a href="#about" class="tm-text-gold py-1 md:py-3 px-4 hover:text-amber-200 transition">About</a></li>
                    <li class="inline-block mb-4 mx-4"><a href="#contact" class="tm-text-gold py-1 md:py-3 px-4 hover:text-amber-200 transition">Contact</a></li>
                </ul>
            </div>
        </nav>
        <div class="container mx-auto px-4">
            <div class="py-48">
                <div class="text-center">
                    <div class="inline-block">
                        <h1 class="text-white text-5xl logo-font mb-5">Welcome to Platemate</h1>
                    </div>
                </div>
                <div class="flex justify-center mt-10">
                    <a href="#menu" class="flex justify-center items-center bg-black bg-opacity-70 py-6 px-8 rounded-lg font-semibold tm-text-2xl tm-text-gold hover:text-amber-200 transition">
                        <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 22V12h6v10"></path>
                        </svg>
                        <span>Place Your Order...</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Menu Section -->
    <div id="menu" class="parallax-window" style="background-image: url('https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')">
        <div class="container mx-auto py-24">
            <div class="text-center mb-16">
                <h2 class="bg-white tm-text-brown py-6 px-12 text-4xl font-medium inline-block rounded-md">Our Cafe Menu</h2>
            </div>

            <!-- Search Bar -->
            <div class="flex justify-center mb-12">
                <form method="post">
                    {% csrf_token %}
                <div class="flex" style="max-width: 1000px; width: 100%;">
                    <input class="flex-grow h-14 px-6 rounded-l-lg border-2 tm-border-gold focus:outline-none focus:ring-2 focus:ring-amber-500" type="search" name="q" placeholder="Search menu items...">
                    <button name="action" value="search" class="tm-bg-brown text-white px-8 rounded-r-lg hover:bg-amber-900 transition" type="submit">
                        Search
                    </button>
                </div>
                     </form>
            </div>

            <!-- Menu Headings -->
            <div class="text-center mb-12">
                <div class="menu-headings-container">
                    <a href="/" class="menu-heading-btn full-menu">
                        <i class="fas fa-utensils"></i> Full Menu
                    </a>

                    <a href="/combooffer/" class="menu-heading-btn combo-offers active">
                        <i class="fas fa-box"></i> Combo Offers
                    </a>

                    <a href="/special_offer/" class="menu-heading-btn special-offers">
                        <i class="fas fa-percent"></i> Special Offers
                    </a>

                    <button onclick="showOrderTracking()" class="menu-heading-btn" style="background: linear-gradient(135deg, #4F46E5, #7C3AED); border: 2px solid #5B21B6;">
                        <i class="fas fa-clipboard-list"></i> Track Orders
                        {% if pending_count > 0 %}
                        <span style="position: absolute; top: -8px; right: -8px; background: #EF4444; color: white; font-size: 10px; font-weight: bold; padding: 3px 8px; border-radius: 10px; animation: pulse 2s infinite;">
                            {{pending_count}}
                        </span>
                        {% endif %}
                    </button>

                    <!-- Filter Button with Simple Dropdown -->
                    <div class="relative inline-block">
                        <button class="menu-heading-btn special-offers filter-dropdown-btn">
                            <i class="fas fa-filter"></i> Filter
                            <i class="fas fa-chevron-down ml-2 text-xs transition-transform duration-200"></i>
                        </button>

                        <!-- Dropdown Menu -->
                        <div class="filter-dropdown-menu absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg z-50 hidden border border-gray-200">
                            <form method="post">
                                {% csrf_token %}
                                <div class="py-2">
                                    <button type="submit" name="filter_category" value="all" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        All Items
                                    </button>
                                    <button type="submit" name="filter_category" value="breakfast" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Breakfast
                                    </button>
                                    <button type="submit" name="filter_category" value="lunch" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Lunch
                                    </button>
                                    <button type="submit" name="filter_category" value="dinner" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Dinner
                                    </button>
                                    <button type="submit" name="filter_category" value="snacks" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Snacks
                                    </button>
                                    <button type="submit" name="filter_category" value="beverages" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Beverages
                                    </button>
                                    <button type="submit" name="filter_category" value="desserts" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Desserts
                                    </button>
                                    <button type="submit" name="filter_category" value="Appetizers" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Appetizers
                                    </button>
                                    <button type="submit" name="filter_category" value="main_course" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Main Course
                                    </button>
                                    <button type="submit" name="filter_category" value="drinks" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Drinks
                                    </button>
                                    <button type="submit" name="filter_category" value="hot_drinks" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Hot Drinks
                                    </button>
                                    <button type="submit" name="filter_category" value="cold_drinks" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Cold Drinks
                                    </button>
                                    <button type="submit" name="filter_category" value="Soups" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Soups
                                    </button>
                                    <button type="submit" name="filter_category" value="Salads" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Salads
                                    </button>
                                    <button type="submit" name="filter_category" value="Sides" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">
                                        Side Dishes
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Table Number -->
            <div class="text-center mb-10">
                <h1 class="text-3xl font-bold tm-text-brown">Table: {{num}}</h1>
            </div>

            <!-- Menu Items Grid -->
            <div class="menu-grid-container">
                {% if mnu %}
                    {% for i in mnu %}
                        <div class="menu-item-card">
                            <div class="menu-item-image-container">
                                <div class="menu-item-category">{{i.category}}</div>
                                <img src="{{i.itemimage.url}}" alt="{{i.itemname}}" class="menu-item-image">
                            </div>

                            <div class="menu-item-content">
                                <h3 class="menu-item-name">{{i.itemname}}</h3>
                                <div class="menu-item-price">Rs: {{i.itemprice}}</div>

                                <div class="menu-item-actions">
                                    <div class="quantity-controls">
                                        <button class="quantity-btn decrease-btn" onclick="decreaseQuantity(this)">
                                            -
                                        </button>
                                        <input
                                            type="number"
                                            value="1"
                                            min="1"
                                            max="99"
                                            class="quantity-input"
                                            data-item-id="{{i.id}}"
                                            onchange="validateQuantity(this)"
                                            oninput="validateQuantity(this)"
                                        >
                                        <button class="quantity-btn increase-btn" onclick="increaseQuantity(this)">
                                            +
                                        </button>
                                    </div>

                                    <button
                                        class="add-to-cart-btn"
                                        onclick="addToCart(this, {{i.id}}, '{{i.itemname}}', {{i.itemprice}}, '{{i.itemimage.url}}')"
                                        data-item-id="{{i.id}}"
                                    >
                                        <i class="fas fa-cart-plus"></i>
                                        <span class="btn-text">Add to Cart</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="no-results">
                        <div class="no-results-icon">üîç</div>
                        <h3>No Menu Items Found</h3>
                        <p>Try adjusting your search or filter to find what you're looking for.</p>
                    </div>
                {% endif %}
            </div>

            <!-- Place Order Button -->
            <div class="fixed bottom-6 right-6 z-50">
                <button
                    id="placeOrderBtn"
                    onclick="showOrderSummary()"
                    class="place-order-btn bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-4 px-8 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-400 focus:ring-opacity-50 text-lg"
                >
                    üõí View Your Order
                </button>
            </div>
        </div>
    </div>

    <!-- Order Summary Modal -->
    <div id="orderSummaryModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden p-2 md:p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl h-[95vh] md:h-[90vh] overflow-hidden flex flex-col m-2">
            <!-- Modal Header - Fixed -->
            <div class="bg-gradient-to-r from-amber-500 to-amber-600 p-4 md:p-6 shrink-0">
                <div class="flex justify-between items-center">
                    <h2 class="text-xl md:text-2xl font-bold text-white">üìã Your Order</h2>
                    <button onclick="closeOrderSummary()" class="text-white hover:text-amber-200 text-2xl font-bold transition duration-200">
                        ‚úï
                    </button>
                </div>
            </div>

            <!-- Modal Body - Scrollable -->
            <div class="flex-1 overflow-y-auto p-3 md:p-6">
                {% if all_info %}
                <!-- Summary Cards (Mobile Collapsible) -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-4 md:mb-6">
                    <div class="text-center p-3 bg-amber-50 rounded-lg">
                        <span class="text-xs md:text-sm font-medium text-amber-700">Regular Items</span>
                        <p class="text-base md:text-lg font-bold text-amber-800">Rs: {{regular_total|floatformat:2}}</p>
                    </div>
                    <div class="text-center p-3 bg-purple-50 rounded-lg">
                        <span class="text-xs md:text-sm font-medium text-purple-700">Combo Offers</span>
                        <p class="text-base md:text-lg font-bold text-purple-800">Rs: {{combo_total|floatformat:2}}</p>
                    </div>
                    <div class="text-center p-3 bg-red-50 rounded-lg">
                        <span class="text-xs md:text-sm font-medium text-red-700">Special Offers</span>
                        <p class="text-base md:text-lg font-bold text-red-800">Rs: {{special_total|floatformat:2}}</p>
                    </div>
                </div>

                <!-- Regular Items Section -->
                {% if regular_info %}
                <div class="mb-4 md:mb-6">
                    <h3 class="text-base md:text-lg font-bold text-amber-800 mb-2 md:mb-3 pb-2 border-b border-amber-200">üçΩÔ∏è Regular Items</h3>
                    <div class="space-y-2 md:space-y-3">
                        {% for i in regular_info %}
                        <div class="flex flex-col md:flex-row md:items-center justify-between p-3 md:p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition duration-200">
                            <div class="flex items-center space-x-3 md:space-x-4 mb-2 md:mb-0 flex-1">
                                <img src="{{i.item.item.itemimage.url}}" alt="{{i.item.item.itemname}}" class="w-12 h-12 md:w-16 md:h-16 rounded-lg object-cover border-2 border-amber-300">
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-800 text-sm md:text-base">{{i.item.item.itemname}}</h4>
                                    <p class="text-amber-600 font-bold text-xs md:text-sm">Rs: {{i.item.item.itemprice}} each</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between md:justify-end space-x-3 md:space-x-4 w-full md:w-auto">
                                <div class="flex items-center space-x-2">
                                    <span class="w-8 md:w-12 text-center font-semibold text-gray-700 text-sm md:text-base">{{i.item.quantity}}</span>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-green-600 text-sm md:text-base">Rs: {{i.price}}</p>
                                </div>
                                <button onclick="window.location.href='/delete_cart/{{i.item.id}}/?type=regular'" class="w-8 h-8 md:w-10 md:h-10 flex items-center justify-center bg-red-100 hover:bg-red-200 border border-red-300 rounded-lg transition duration-200 text-red-600 font-bold text-xs" title="Remove Item">
                                    üóëÔ∏è
                                </button>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <!-- Combo Offers Section -->
                {% if combo_info %}
                <div class="mb-4 md:mb-6">
                    <h3 class="text-base md:text-lg font-bold text-purple-800 mb-2 md:mb-3 pb-2 border-b border-purple-200">üéÅ Combo Offers</h3>
                    <div class="space-y-2 md:space-y-3">
                        {% for i in combo_info %}
                        <div class="flex flex-col md:flex-row md:items-center justify-between p-3 md:p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition duration-200">
                            <div class="flex items-center space-x-3 md:space-x-4 mb-2 md:mb-0 flex-1">
                                {% if i.item.item.image %}
                                <img src="{{i.item.item.image.url}}" alt="{{i.item.item.combo_name}}" class="w-12 h-12 md:w-16 md:h-16 rounded-lg object-cover border-2 border-purple-300">
                                {% else %}
                                <div class="w-12 h-12 md:w-16 md:h-16 rounded-lg border-2 border-purple-300 bg-purple-100 flex items-center justify-center">
                                    <span class="text-purple-500 text-xl md:text-2xl">üéÅ</span>
                                </div>
                                {% endif %}
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-800 text-sm md:text-base">{{i.item.item.combo_name}}</h4>
                                    <p class="text-purple-600 font-bold text-xs md:text-sm">Rs: {{i.item.item.combo_price}} each</p>
                                    <p class="text-xs text-gray-500 mt-1 hidden md:block">
                                        Includes:
                                        {% for menu_item in i.item.item.items.all %}
                                            {{ menu_item.itemname }}{% if not forloop.last %}, {% endif %}
                                        {% endfor %}
                                    </p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between md:justify-end space-x-3 md:space-x-4 w-full md:w-auto">
                                <div class="flex items-center space-x-2">
                                    <span class="w-8 md:w-12 text-center font-semibold text-gray-700 text-sm md:text-base">{{i.item.quantity}}</span>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-green-600 text-sm md:text-base">Rs: {{i.price}}</p>
                                </div>
                                <button onclick="window.location.href='/delete_combo_cart/{{i.item.id}}/'" class="w-8 h-8 md:w-10 md:h-10 flex items-center justify-center bg-red-100 hover:bg-red-200 border border-red-300 rounded-lg transition duration-200 text-red-600 font-bold text-xs" title="Remove Item">
                                    üóëÔ∏è
                                </button>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <!-- Special Offers Section -->
                {% if special_info %}
                <div class="mb-4 md:mb-6">
                    <h3 class="text-base md:text-lg font-bold text-red-800 mb-2 md:mb-3 pb-2 border-b border-red-200">üî• Special Offers</h3>
                    <div class="space-y-2 md:space-y-3">
                        {% for i in special_info %}
                        <div class="flex flex-col md:flex-row md:items-center justify-between p-3 md:p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition duration-200">
                            <div class="flex items-center space-x-3 md:space-x-4 mb-2 md:mb-0 flex-1">
                                <div class="w-12 h-12 md:w-16 md:h-16 rounded-lg border-2 border-red-300 bg-red-100 flex items-center justify-center">
                                    <span class="text-red-500 text-xl md:text-2xl">üî•</span>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-semibold text-gray-800 text-sm md:text-base">{{i.item.item.offer_name}}</h4>
                                    <p class="text-red-600 font-bold text-xs md:text-sm">Rs: {{i.item.item.offer_price}} each</p>
                                    {% if i.item.item.items %}
                                    <p class="text-xs text-gray-500 mt-1 hidden md:block">
                                        Includes: {{i.item.item.items.itemname}}
                                    </p>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="flex items-center justify-between md:justify-end space-x-3 md:space-x-4 w-full md:w-auto">
                                <div class="flex items-center space-x-2">
                                    <span class="w-8 md:w-12 text-center font-semibold text-gray-700 text-sm md:text-base">{{i.item.quantity}}</span>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-green-600 text-sm md:text-base">Rs: {{i.price}}</p>
                                </div>
                                <button onclick="window.location.href='/delete_special_cart/{{i.item.id}}/'" class="w-8 h-8 md:w-10 md:h-10 flex items-center justify-center bg-red-100 hover:bg-red-200 border border-red-300 rounded-lg transition duration-200 text-red-600 font-bold text-xs" title="Remove Item">
                                    üóëÔ∏è
                                </button>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                {% else %}
                <div class="text-center py-8 h-full flex flex-col items-center justify-center">
                    <div class="text-6xl mb-4">üõí</div>
                    <h3 class="text-xl font-semibold text-gray-600">No items selected</h3>
                    <p class="text-gray-500">Please select some items to place your order</p>
                </div>
                {% endif %}
            </div>

            <!-- Modal Footer - Fixed at Bottom -->
            <div class="border-t border-gray-200 p-3 md:p-6 bg-gray-50 shrink-0">
                <!-- Total Summary -->
                <div class="flex justify-between items-center mb-3 md:mb-4">
                    <div>
                        <span class="text-sm md:text-lg font-semibold text-gray-700">Total Items:</span>
                        <span class="text-sm md:text-lg font-bold text-amber-600 ml-2">{{total_items_count}}</span>
                    </div>
                    <div>
                        <span class="text-base md:text-xl font-bold text-gray-800">Grand Total:</span>
                        <span class="text-lg md:text-2xl font-bold text-green-600 ml-2">Rs: {{grand_total|floatformat:2}}</span>
                    </div>
                </div>

                <!-- Main Action Buttons -->
                <div class="space-y-3 md:space-y-4">
                    <!-- Place Order Button -->
                    {% if all_info %}
                    <button
                        onclick="window.location.href='/make_order/'"
                        class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 md:py-4 px-4 md:px-6 rounded-xl transition duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-xl flex items-center justify-center text-base md:text-lg"
                    >
                        <svg class="w-5 h-5 md:w-6 md:h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        üöÄ PLACE ORDER
                    </button>
                    {% endif %}

                    <!-- Secondary Buttons -->
                    <!-- Quick Action Links -->
                    {% if all_info %}
                    <div class="pt-3 md:pt-4 border-t border-gray-300">
                        <div class="grid grid-cols-2 gap-2">
                            <a href="/combooffer/"
                               class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-semibold py-2 px-3 rounded-lg transition duration-300 text-center flex items-center justify-center text-xs md:text-sm">
                                <span class="mr-1 md:mr-2">üéÅ</span>
                                Add Combo
                            </a>
                            <a href="/special_offer/"
                               class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold py-2 px-3 rounded-lg transition duration-300 text-center flex items-center justify-center text-xs md:text-sm">
                                <span class="mr-1 md:mr-2">üî•</span>
                                Add Special
                            </a>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Order Tracking Modal -->
    <div id="orderTrackingModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden p-2 md:p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl h-[95vh] md:h-[90vh] overflow-hidden flex flex-col m-2">
            <!-- Modal Header -->
            <div class="bg-gradient-to-r from-purple-500 to-purple-600 p-4 md:p-6 shrink-0">
                <div class="flex justify-between items-center">
                    <div>
                        <h2 class="text-xl md:text-2xl font-bold text-white">üìã Current Orders - Table {{num}}</h2>
                        <p class="text-white text-opacity-90 text-sm mt-1">Track your order status in real-time</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <button onclick="refreshOrders()" class="text-white hover:text-purple-200 p-2 rounded-full hover:bg-white hover:bg-opacity-20 transition duration-200" title="Refresh">
                            <i class="fas fa-redo-alt"></i>
                        </button>
                        <button onclick="closeOrderTracking()" class="text-white hover:text-purple-200 text-2xl font-bold transition duration-200">
                            ‚úï
                        </button>
                    </div>
                </div>
            </div>

            <!-- Order Status Summary -->
            <div class="bg-gray-50 p-4 border-b">
                <div class="grid grid-cols-3 gap-2 md:gap-4">
                    <div class="text-center p-3 bg-amber-100 rounded-lg">
                        <div class="text-amber-800 font-bold text-lg">{{pending_count}}</div>
                        <div class="text-amber-600 text-sm">Pending</div>
                    </div>
                    <div class="text-center p-3 bg-green-100 rounded-lg">
                        <div class="text-green-800 font-bold text-lg">{{ready_count}}</div>
                        <div class="text-green-600 text-sm">Ready</div>
                    </div>
                    <div class="text-center p-3 bg-blue-100 rounded-lg">
                        <div class="text-blue-800 font-bold text-lg">{{served_count}}</div>
                        <div class="text-blue-600 text-sm">Served</div>
                    </div>
                </div>
            </div>

            <!-- Modal Body - Scrollable -->
            <div class="flex-1 overflow-y-auto p-3 md:p-6">
                <!-- Pending Orders -->
                {% if pending_orders %}
                <div class="mb-6">
                    <div class="flex items-center mb-3">
                        <div class="w-3 h-3 bg-amber-500 rounded-full mr-2 animate-pulse"></div>
                        <h3 class="text-lg font-bold text-amber-700">‚è≥ Pending Orders</h3>
                        <span class="ml-2 bg-amber-100 text-amber-800 text-xs font-semibold px-2 py-1 rounded-full">
                            {{pending_count}} items
                        </span>
                    </div>
                    <div class="space-y-3">
                        {% for order in pending_orders %}
                        <div class="order-card order-card-pending bg-white border border-amber-200 rounded-xl p-4 animate-fadeIn">
                            <div class="flex items-start justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center mb-2">
                                        {% if order.combo %}
                                        <span class="text-purple-500 mr-2">üéÅ</span>
                                        <h4 class="font-bold text-gray-800">{{order.combo.combo_name}}</h4>
                                        {% elif order.special_offer %}
                                        <span class="text-red-500 mr-2">üî•</span>
                                        <h4 class="font-bold text-gray-800">{{order.special_offer.offer_name}}</h4>
                                        {% else %}
                                        <span class="text-amber-500 mr-2">üçΩÔ∏è</span>
                                        <h4 class="font-bold text-gray-800">{{order.item.itemname}}</h4>
                                        {% endif %}
                                        <span class="status-badge status-pending ml-2">Pending</span>
                                    </div>

                                    <div class="flex items-center text-sm text-gray-600 mb-3">
                                        <span class="mr-4">Qty: <strong>{{order.quantity}}</strong></span>
                                        <span>Table: <strong>{{order.table}}</strong></span>
                                    </div>

                                    <!-- Progress bar -->
                                    <div class="mb-2">
                                        <div class="text-xs text-gray-500 mb-1">Preparing your order...</div>
                                        <div class="progress-bar">
                                            <div class="progress-fill progress-pending"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="text-right">
                                    <div class="font-bold text-green-600 text-lg">
                                        Rs:
                                        {% if order.combo %}
                                            {{order.combo.combo_price|floatformat:2}}
                                        {% elif order.special_offer %}
                                            {{order.special_offer.offer_price|floatformat:2}}
                                        {% else %}
                                            {{order.item.itemprice|floatformat:2}}
                                        {% endif %}
                                    </div>
                                    <div class="text-xs text-gray-500 mt-1">
                                        {{order.quantity}} √ó
                                        {% if order.combo %}
                                            {{order.combo.combo_price|floatformat:2}}
                                        {% elif order.special_offer %}
                                            {{order.special_offer.offer_price|floatformat:2}}
                                        {% else %}
                                            {{order.item.itemprice|floatformat:2}}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <!-- Ready Orders -->
                {% if ready_orders %}
                <div class="mb-6">
                    <div class="flex items-center mb-3">
                        <div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div>
                        <h3 class="text-lg font-bold text-green-700">‚úÖ Ready for Pickup</h3>
                        <span class="ml-2 bg-green-100 text-green-800 text-xs font-semibold px-2 py-1 rounded-full">
                            {{ready_count}} items
                        </span>
                    </div>
                    <div class="space-y-3">
                        {% for order in ready_orders %}
                        <div class="order-card order-card-ready bg-white border border-green-200 rounded-xl p-4 animate-fadeIn" style="animation-delay: 0.1s">
                            <div class="flex items-start justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center mb-2">
                                        {% if order.combo %}
                                        <span class="text-purple-500 mr-2">üéÅ</span>
                                        <h4 class="font-bold text-gray-800">{{order.combo.combo_name}}</h4>
                                        {% elif order.special_offer %}
                                        <span class="text-red-500 mr-2">üî•</span>
                                        <h4 class="font-bold text-gray-800">{{order.special_offer.offer_name}}</h4>
                                        {% else %}
                                        <span class="text-green-500 mr-2">üçΩÔ∏è</span>
                                        <h4 class="font-bold text-gray-800">{{order.item.itemname}}</h4>
                                        {% endif %}
                                        <span class="status-badge status-ready ml-2">Ready</span>
                                    </div>

                                    <div class="flex items-center text-sm text-gray-600 mb-3">
                                        <span class="mr-4">Qty: <strong>{{order.quantity}}</strong></span>
                                        <span>Table: <strong>{{order.table}}</strong></span>
                                    </div>

                                    <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                                        <div class="flex items-center text-green-700">
                                            <i class="fas fa-bell text-green-500 mr-2"></i>
                                            <span class="font-semibold">Your order is ready! Please collect from the counter.</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="text-right">
                                    <div class="font-bold text-green-600 text-lg">
                                        Rs:
                                        {% if order.combo %}
                                            {{order.combo.combo_price|floatformat:2}}
                                        {% elif order.special_offer %}
                                            {{order.special_offer.offer_price|floatformat:2}}
                                        {% else %}
                                            {{order.item.itemprice|floatformat:2}}
                                        {% endif %}
                                    </div>
                                    <button onclick="markAsServed({{order.id}})" class="mt-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition duration-200">
                                        Mark as Served
                                    </button>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <!-- Served Orders -->
                {% if served_orders %}
                <div class="mb-6">
                    <div class="flex items-center mb-3">
                        <div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div>
                        <h3 class="text-lg font-bold text-blue-700">üçΩÔ∏è Served Orders</h3>
                        <span class="ml-2 bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full">
                            {{served_count}} items
                        </span>
                    </div>
                    <div class="space-y-3">
                        {% for order in served_orders %}
                        <div class="order-card order-card-served bg-white border border-blue-200 rounded-xl p-4 animate-fadeIn" style="animation-delay: 0.2s">
                            <div class="flex items-start justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center mb-2">
                                        {% if order.combo %}
                                        <span class="text-purple-500 mr-2">üéÅ</span>
                                        <h4 class="font-bold text-gray-800">{{order.combo.combo_name}}</h4>
                                        {% elif order.special_offer %}
                                        <span class="text-red-500 mr-2">üî•</span>
                                        <h4 class="font-bold text-gray-800">{{order.special_offer.offer_name}}</h4>
                                        {% else %}
                                        <span class="text-blue-500 mr-2">üçΩÔ∏è</span>
                                        <h4 class="font-bold text-gray-800">{{order.item.itemname}}</h4>
                                        {% endif %}
                                        <span class="status-badge status-served ml-2">Served</span>
                                    </div>

                                    <div class="flex items-center text-sm text-gray-600 mb-2">
                                        <span class="mr-4">Qty: <strong>{{order.quantity}}</strong></span>
                                        <span>Table: <strong>{{order.table}}</strong></span>
                                    </div>

                                    <div class="text-xs text-gray-500">
                                        <i class="far fa-clock mr-1"></i> Order completed
                                    </div>
                                </div>

                                <div class="text-right">
                                    <div class="font-bold text-green-600 text-lg">
                                        Rs:
                                        {% if order.combo %}
                                            {{order.combo.combo_price|floatformat:2}}
                                        {% elif order.special_offer %}
                                            {{order.special_offer.offer_price|floatformat:2}}
                                        {% else %}
                                            {{order.item.itemprice|floatformat:2}}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <!-- No Orders Message -->
                {% if not current_orders %}
                <div class="text-center py-12">
                    <div class="text-6xl mb-4">üì≠</div>
                    <h3 class="text-xl font-semibold text-gray-600">No orders placed yet</h3>
                    <p class="text-gray-500">Place an order from the menu to see it here</p>
                    <button onclick="closeOrderTracking()" class="mt-4 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-semibold py-2 px-6 rounded-lg transition duration-300">
                        Browse Menu
                    </button>
                </div>
                {% endif %}
            </div>

            <!-- Modal Footer -->
            <div class="border-t border-gray-200 p-4 bg-gray-50 shrink-0">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-sm text-gray-600">Total Orders:</div>
                        <div class="font-bold text-gray-800">{{current_orders.count}}</div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm text-gray-600">Total Amount:</div>
                        <div class="font-bold text-green-600 text-xl">Rs: {{order_total|floatformat:2}}</div>
                    </div>
                </div>

                <!-- Payment Section -->
                {% if current_orders %}
                <div class="mt-4 border-t border-gray-300 pt-4">
                    <!-- Payment Button -->
                    {% if served_orders %}
                    <button onclick="window.location.href='/payment/'"
                            class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-300 transform hover:scale-[1.02] flex items-center justify-center">
                        <i class="fas fa-credit-card mr-2"></i>
                        Proceed to Payment
                    </button>
                    {% endif %}
                </div>
                {% endif %}

                <!-- Order Status Info -->
                {% if pending_count > 0 %}
                <div class="mt-4 bg-blue-50 border border-blue-200 rounded-lg p-3">
                    <div class="flex items-center">
                        <i class="fas fa-info-circle text-blue-500 mr-2"></i>
                        <span class="text-blue-700 text-sm">Your orders are being prepared. Estimated time: 15-20 minutes</span>
                    </div>
                </div>
                {% elif served_count > 0 and served_count == current_orders.count %}
                <div class="mt-4 bg-green-50 border border-green-200 rounded-lg p-3">
                    <div class="flex items-center">
                        <i class="fas fa-check-circle text-green-500 mr-2"></i>
                        <span class="text-green-700 text-sm">All orders have been served! Ready for payment.</span>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- About Section -->
    <div id="about" class="parallax-window" style="background-image: url('https://images.unsplash.com/photo-1559925393-8be0ec4767c8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80')">
        <div class="container mx-auto py-24">
            <div class="mx-auto sm:px-0 px-4" style="max-width: 800px;">
               <div class="bg-white bg-opacity-80 p-12 pb-14 rounded-xl mb-5">
    <h2 class="mb-6 tm-text-green text-4xl font-medium">About Us</h2>
    <p class="mb-6 text-base leading-8">
        At our prestigious five-star establishment, we redefine luxury dining through an unparalleled culinary journey. Our world-renowned chefs, trained in Michelin-starred kitchens across Europe and Asia, curate each dish as a masterpiece of flavor, artistry, and innovation. We exclusively source premium ingredients‚Äîfrom truffles harvested in Italian forests to Kobe beef from Japan's finest ranches.
    </p>
    <p class="mb-6 text-base leading-8">
        Our commitment to excellence extends beyond the plate. Each culinary creation is presented with meticulous attention to detail, complemented by an award-winning sommelier's wine pairings and impeccable tableside service. The dining experience is enhanced by our elegant ambiance, featuring crystal chandeliers, bespoke china, and panoramic views of the city skyline.
    </p>
    <p class="text-base leading-8">
        We take pride in offering personalized gastronomic experiences, including private chef's table events and customized tasting menus. Our dedicated service team ensures every moment exceeds the expectations of our distinguished guests, making each visit an unforgettable celebration of luxury dining at its finest.
    </p>
</div>
                <a href="#contact" class="inline-block tm-bg-green transition text-white text-xl pt-3 pb-4 px-8 rounded-md hover:bg-green-700">
                    <svg class="w-6 h-6 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                    </svg>
                    Contact Us
                </a>
            </div>
        </div>
    </div>

    <!-- Contact Section -->
    <div id="contact" class="parallax-window relative" style="background-image: url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')">
        <div class="container mx-auto pt-24 pb-48">
            <div class="flex flex-col lg:flex-row justify-around lg:items-stretch">
                <div class="flex-1 rounded-xl px-10 py-12 m-5 bg-white bg-opacity-80 tm-item-container">
                    <h2 class="text-3xl mb-6 tm-text-green">Contact Us</h2>
                    <p class="text-2xl mb-6 tm-text-green">
                        We'd love to hear from you! Whether you have questions about our menu, want to make a reservation, or just want to share your feedback, please don't hesitate to get in touch.
                    </p>
                    <p class="mb-10 text-lg">
                        <span class="text-2xl mb-6 tm-text-green">Tel: <a href="tel:0100200340" class="hover:text-yellow-600 transition">010-020-0340</a></span><br>
                        <span class="text-2xl mb-6 tm-text-green">Email: <a href="mailto:info@platemate.com" class="hover:text-yellow-600 transition">info@platemate.com</a></span><br>
                        <span class="text-2xl mb-6 tm-text-green">Address: 123 Cafe Street, Foodville, FK 12345</span>
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="tm-text-green hover:text-amber-700 transition">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/>
                            </svg>
                        </a>
                        <a href="#" class="tm-text-green hover:text-amber-700 transition">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                            </svg>
                        </a>
                        <a href="#" class="tm-text-green hover:text-amber-700 transition">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                            </svg>
                        </a>
                    </div>
                </div>

            </div>
            <footer class="absolute bottom-0 left-0 w-full">
                      <button class="inline-block tm-bg-green transition text-white text-xl pt-3 pb-4 px-8 rounded-md hover:bg-green-700"><span class="mt-5 md:mt-0"><a href="/login/" class="hover:text-amber-300 transition">Login</a></span></button>
            </footer>
        </div>
    </div>

    <script>
        // Simple JavaScript for mobile menu toggle
        document.getElementById('menu-toggle').addEventListener('click', function() {
            const navMenu = document.querySelector('nav ul');
            navMenu.classList.toggle('hidden');
            navMenu.classList.toggle('flex');
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Menu Item Functions
        function increaseQuantity(button) {
            const container = button.parentElement;
            const input = container.querySelector('.quantity-input');
            const currentValue = parseInt(input.value);
            if (currentValue < 99) {
                input.value = currentValue + 1;
            }
        }

        function decreaseQuantity(button) {
            const container = button.parentElement;
            const input = container.querySelector('.quantity-input');
            const currentValue = parseInt(input.value);
            if (currentValue > 1) {
                input.value = currentValue - 1;
            }
        }

        function validateQuantity(input) {
            let value = parseInt(input.value);
            if (isNaN(value) || value < 1) {
                input.value = 1;
            } else if (value > 99) {
                input.value = 99;
            }
        }

        function addToCart(button, itemId, itemName, itemPrice, itemImage) {
            // Get the quantity input
            const container = button.parentElement.parentElement;
            const quantityInput = container.querySelector('.quantity-input');
            const quantity = parseInt(quantityInput.value);

            // Update button appearance
            const btnText = button.querySelector('.btn-text');
            const btnIcon = button.querySelector('i');

            // Show loading state
            button.disabled = true;
            btnText.textContent = 'Adding...';
            btnIcon.className = 'fas fa-spinner fa-spin';
            button.classList.add('added');

            // Send request to add item to cart
            fetch(`/add_to_cart/${itemId}/${quantity}/`)
                .then(response => {
                    if (response.ok) {
                        // Success state
                        btnText.textContent = 'Added ‚úì';
                        btnIcon.className = 'fas fa-check';

                        // Reset button after 2 seconds
                        setTimeout(() => {
                            button.disabled = false;
                            btnText.textContent = 'Add to Cart';
                            btnIcon.className = 'fas fa-cart-plus';
                            button.classList.remove('added');
                        }, 2000);

                        // Refresh the cart counter
                        refreshCartCounter();
                    } else {
                        // Error state
                        btnText.textContent = 'Error!';
                        btnIcon.className = 'fas fa-exclamation-triangle';

                        setTimeout(() => {
                            button.disabled = false;
                            btnText.textContent = 'Add to Cart';
                            btnIcon.className = 'fas fa-cart-plus';
                            button.classList.remove('added');
                        }, 2000);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    btnText.textContent = 'Error!';
                    btnIcon.className = 'fas fa-exclamation-triangle';

                    setTimeout(() => {
                        button.disabled = false;
                        btnText.textContent = 'Add to Cart';
                        btnIcon.className = 'fas fa-cart-plus';
                        button.classList.remove('added');
                    }, 2000);
                });
        }

        function refreshCartCounter() {
            // This function would typically make an AJAX call to get updated cart count
            // For now, we'll just reload the page to show updated cart
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        }

        function showOrderSummary() {
            const modal = document.getElementById('orderSummaryModal');
            modal.classList.remove('hidden');
        }

        function closeOrderSummary() {
            const modal = document.getElementById('orderSummaryModal');
            modal.classList.add('hidden');
        }

        // Order Tracking Functions
        function showOrderTracking() {
            const modal = document.getElementById('orderTrackingModal');
            modal.classList.remove('hidden');
        }

        function closeOrderTracking() {
            const modal = document.getElementById('orderTrackingModal');
            modal.classList.add('hidden');
        }

        function refreshOrders() {
            // Show loading animation
            const refreshBtn = event.currentTarget;
            refreshBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';

            // Reload page after 1 second
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        }

        function markAsServed(orderId) {
            if (confirm('Mark this order as served?')) {
                // Send AJAX request to update status
                fetch(`/mark_order_served/${orderId}/`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCookie('csrftoken')
                    }
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        window.location.reload();
                    }
                });
            }
        }

        // Helper function to get CSRF token
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        // Filter dropdown functionality
        document.addEventListener('DOMContentLoaded', function() {
            const filterBtn = document.querySelector('.filter-dropdown-btn');
            const filterMenu = document.querySelector('.filter-dropdown-menu');

            if (filterBtn && filterMenu) {
                // Toggle dropdown on button click
                filterBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    filterMenu.classList.toggle('hidden');

                    // Rotate chevron
                    const chevron = this.querySelector('.fa-chevron-down');
                    if (chevron) {
                        chevron.classList.toggle('rotate-180');
                    }
                });

                // Close dropdown when clicking outside
                document.addEventListener('click', function(e) {
                    if (filterMenu && !filterMenu.contains(e.target) && !filterBtn.contains(e.target)) {
                        filterMenu.classList.add('hidden');
                        const chevron = filterBtn.querySelector('.fa-chevron-down');
                        if (chevron) {
                            chevron.classList.remove('rotate-180');
                        }
                    }
                });

                // Close dropdown when clicking inside (for form submission)
                filterMenu.addEventListener('click', function() {
                    setTimeout(() => {
                        filterMenu.classList.add('hidden');
                        const chevron = filterBtn.querySelector('.fa-chevron-down');
                        if (chevron) {
                            chevron.classList.remove('rotate-180');
                        }
                    }, 100);
                });
            }
        });
    </script>
</body>
</html>