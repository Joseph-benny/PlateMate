<!DOCTYPE html>
{% load static %}
<html>
<head>
	<meta charset="utf-8">
	<title>Platemate - Register Account</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<!-- Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600&family=Oswald:wght@600&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<!-- Main Style Css -->
    <style>
        :root {
            --brown-dark: #3A2618;
            --brown-medium: #8B4513;
            --brown-light: #D2691E;
            --accent-gold: #D4AF37;
            --accent-orange: #FF8C00;
            --accent-light: #FFA54F;
            --text-light: #F5E6D3;
            --text-dark: #2C1810;
            --error-red: #FF6B6B;
            --success-green: #2E8B57;
            --background-gradient: linear-gradient(135deg, #3A2618 0%, #5D4037 50%, #8B4513 100%);
            --button-gradient: linear-gradient(135deg, #8B4513, #D2691E);
            --button-hover-gradient: linear-gradient(135deg, #D2691E, #8B4513);
            --form-gradient: linear-gradient(to bottom, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--background-gradient);
            font-family: 'Raleway', sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(--text-light);
            position: relative;
            overflow-x: hidden;
        }

        /* Background pattern */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23d4af37' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.3;
            z-index: -1;
        }

        .page-content {
            width: 100%;
            max-width: 500px;
            padding: 20px;
            z-index: 1;
        }

        .form-v5-content {
            background: rgba(42, 26, 16, 0.85);
            border-radius: 20px;
            padding: 45px 40px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4),
                        0 0 30px rgba(212, 175, 55, 0.2);
            border: 1px solid rgba(212, 175, 55, 0.2);
            backdrop-filter: blur(10px);
            transform: translateY(0);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .form-v5-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5),
                        0 0 40px rgba(212, 175, 55, 0.3);
        }

        .form-v5-content::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(212, 175, 55, 0.1),
                transparent
            );
            transform: rotate(45deg);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: rotate(45deg) translateX(-100%); }
            100% { transform: rotate(45deg) translateX(100%); }
        }

        .form-detail h2 {
            color: var(--accent-gold);
            font-family: 'Oswald', sans-serif;
            font-size: 36px;
            text-align: center;
            margin-bottom: 40px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            padding-bottom: 20px;
        }

        .form-detail h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--brown-medium), var(--accent-gold));
            border-radius: 2px;
            box-shadow: 0 2px 8px rgba(212, 175, 55, 0.3);
        }

        .form-row {
            position: relative;
            margin-bottom: 30px;
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .form-row:nth-child(1) { animation-delay: 0.1s; }
        .form-row:nth-child(2) { animation-delay: 0.2s; }
        .form-row:nth-child(3) { animation-delay: 0.3s; }
        .form-row:nth-child(4) { animation-delay: 0.4s; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-row label {
            display: block;
            color: var(--accent-gold);
            margin-bottom: 10px;
            font-weight: 500;
            font-size: 15px;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .form-row label i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .input-text {
            width: 100%;
            padding: 16px 50px 16px 20px;
            border: 2px solid rgba(139, 69, 19, 0.3);
            border-radius: 12px;
            font-size: 16px;
            color: var(--text-light);
            background: rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
            outline: none;
            font-family: 'Raleway', sans-serif;
        }

        .input-text::placeholder {
            color: rgba(245, 230, 211, 0.6);
            font-style: italic;
        }

        .input-text:focus {
            border-color: var(--accent-gold);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
        }

        .form-row i:not(.validation-icon) {
            position: absolute;
            right: 20px;
            top: 42px;
            color: var(--accent-gold);
            font-size: 16px;
            pointer-events: none;
        }

        .validation-icon {
            position: absolute;
            right: 45px;
            top: 42px;
            display: none;
            font-size: 18px;
            pointer-events: none;
        }

        .fa-check-circle {
            color: var(--success-green);
        }

        .fa-exclamation-circle {
            color: var(--error-red);
        }

        .error-message {
            color: var(--error-red);
            font-size: 13px;
            margin-top: 8px;
            display: none;
            padding-left: 5px;
            font-weight: 500;
            background: rgba(255, 107, 107, 0.1);
            padding: 8px 12px;
            border-radius: 6px;
            border-left: 3px solid var(--error-red);
        }

        .input-text.error {
            border-color: var(--error-red);
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.2);
        }

        .input-text.success {
            border-color: var(--success-green);
            box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.2);
        }

        .form-row-last {
            margin-top: 40px;
            text-align: center;
            animation: fadeInUp 0.6s ease-out 0.5s forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .Register {
            background: var(--button-gradient);
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 18px;
            font-family: 'Oswald', sans-serif;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 1px;
            text-transform: uppercase;
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.4);
            position: relative;
            overflow: hidden;
            min-width: 200px;
        }

        .Register:hover {
            background: var(--button-hover-gradient);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(210, 105, 30, 0.5);
            letter-spacing: 2px;
        }

        .Register:active {
            transform: translateY(0);
            box-shadow: 0 3px 10px rgba(139, 69, 19, 0.4);
        }

        .Register:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            background: var(--button-gradient);
        }

        .Register::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        .Register:hover::before {
            left: 100%;
        }

        /* Loading animation */
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .Register.loading {
            animation: pulse 1s infinite;
            pointer-events: none;
        }

        /* Success message styling */
        .alert-success {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--success-green), #3CB371);
            color: white;
            padding: 20px 30px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
            border-left: 4px solid var(--accent-gold);
            max-width: 400px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translateX(0) scale(1);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0) scale(1);
                opacity: 1;
            }
            to {
                transform: translateX(100%) scale(0.8);
                opacity: 0;
            }
        }

        .alert-success i {
            font-size: 24px;
            color: var(--accent-gold);
        }

        .alert-success h3 {
            margin: 0 0 5px 0;
            font-size: 18px;
            font-weight: 600;
        }

        .alert-success p {
            margin: 0;
            opacity: 0.9;
            font-size: 14px;
        }

        /* Decorative elements */
        .form-v5-content::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--brown-dark), var(--accent-gold), var(--brown-medium));
            border-radius: 22px;
            z-index: -1;
            opacity: 0.3;
            filter: blur(2px);
        }

        /* Password strength indicator */
        .password-strength {
            height: 4px;
            border-radius: 2px;
            margin-top: 8px;
            background: rgba(255, 255, 255, 0.1);
            overflow: hidden;
            position: relative;
        }

        .strength-bar {
            height: 100%;
            width: 0%;
            transition: width 0.3s ease, background-color 0.3s ease;
            border-radius: 2px;
        }

        .strength-text {
            font-size: 12px;
            margin-top: 4px;
            text-align: right;
            opacity: 0.7;
            transition: color 0.3s ease;
        }

        /* Tooltip for fields */
        .input-text:focus + .field-tooltip {
            opacity: 1;
            transform: translateY(0);
        }

        .field-tooltip {
            position: absolute;
            top: -35px;
            left: 0;
            background: var(--brown-dark);
            color: var(--accent-gold);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            pointer-events: none;
            border: 1px solid var(--accent-gold);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }

        .field-tooltip::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 20px;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 5px solid var(--accent-gold);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .form-v5-content {
                padding: 35px 30px;
            }

            .form-detail h2 {
                font-size: 30px;
                margin-bottom: 35px;
            }

            .input-text {
                padding: 15px 45px 15px 18px;
                font-size: 15px;
            }

            .form-row i:not(.validation-icon) {
                top: 40px;
            }

            .validation-icon {
                top: 40px;
            }

            .Register {
                padding: 16px 35px;
                font-size: 16px;
                min-width: 180px;
            }

            .alert-success {
                max-width: 350px;
                padding: 15px 25px;
            }
        }

        @media (max-width: 480px) {
            .page-content {
                padding: 10px;
            }

            .form-v5-content {
                padding: 30px 25px;
            }

            .form-detail h2 {
                font-size: 26px;
                margin-bottom: 30px;
            }

            .input-text {
                padding: 14px 40px 14px 16px;
            }

            .Register {
                padding: 15px 30px;
                font-size: 15px;
                min-width: 160px;
            }

            body {
                padding: 10px;
            }

            .alert-success {
                max-width: 300px;
                padding: 12px 20px;
                top: 10px;
                right: 10px;
            }
        }

        /* Animation for error state */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        .Register.shake {
            animation: shake 0.5s ease;
        }

        /* Link to login */
        .login-link {
            text-align: center;
            margin-top: 25px;
            font-size: 15px;
            color: var(--accent-gold);
            opacity: 0.8;
        }

        .login-link a {
            color: var(--accent-light);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
        }

        .login-link a:hover {
            color: var(--accent-gold);
            border-bottom-color: var(--accent-gold);
            opacity: 1;
        }
    </style>
</head>
<body>
	<div class="page-content">
		<div class="form-v5-content">
			<form class="form-detail" action="#" method="post" id="registrationForm">
                {% csrf_token %}
				<h2>Register Account</h2>

				<!-- Full Name Field -->
				<div class="form-row">
					<label for="full-name"><i class="fas fa-user"></i> Full Name</label>
					<input type="text" name="name" id="full-name" class="input-text" placeholder="Your Full Name" required>
					<i class="fas fa-user-circle"></i>
					<i class="fas fa-check-circle validation-icon" id="name-success"></i>
					<i class="fas fa-exclamation-circle validation-icon" id="name-error"></i>
					<div class="field-tooltip">Enter your full name (letters and spaces only)</div>
					<div class="error-message" id="name-error-message">
						Full Name must contain only letters and spaces (2-50 characters)
					</div>
				</div>

                <!-- Phone Number Field -->
				<div class="form-row">
					<label for="phone"><i class="fas fa-phone"></i> Phone Number</label>
					<input type="text" name="phone" id="phone" class="input-text" placeholder="10-digit phone number" required>
					<i class="fas fa-phone-alt"></i>
					<i class="fas fa-check-circle validation-icon" id="phone-success"></i>
					<i class="fas fa-exclamation-circle validation-icon" id="phone-error"></i>
					<div class="field-tooltip">Enter 10-digit phone number without country code</div>
					<div class="error-message" id="phone-error-message">
						Please enter a valid 10-digit phone number
					</div>
				</div>

				<!-- Email Field -->
				<div class="form-row">
					<label for="email"><i class="fas fa-envelope"></i> Email Address</label>
					<input type="text" name="email" id="email" class="input-text" placeholder="your@email.com" required>
					<i class="fas fa-at"></i>
					<i class="fas fa-check-circle validation-icon" id="email-success"></i>
					<i class="fas fa-exclamation-circle validation-icon" id="email-error"></i>
					<div class="field-tooltip">Enter a valid email address</div>
					<div class="error-message" id="email-error-message">
						Please enter a valid email address
					</div>
				</div>

				<!-- Password Field -->
				<div class="form-row">
					<label for="password"><i class="fas fa-lock"></i> Password</label>
					<input type="password" name="password" id="password" class="input-text" placeholder="Minimum 8 characters" required>
					<i class="fas fa-key"></i>
					<i class="fas fa-check-circle validation-icon" id="password-success"></i>
					<i class="fas fa-exclamation-circle validation-icon" id="password-error"></i>
					<div class="field-tooltip">Password must be at least 8 characters long</div>
					<div class="password-strength">
						<div class="strength-bar" id="strength-bar"></div>
					</div>
					<div class="strength-text" id="strength-text"></div>
					<div class="error-message" id="password-error-message">
						Password must be at least 8 characters long
					</div>
				</div>

				<div class="form-row-last">
					<input type="submit" name="register" class="Register" value="Register" id="submitBtn">
				</div>

				<div class="login-link">
					Already have an account? <a href="/login/">Login here</a>
				</div>
			</form>
		</div>
	</div>

	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const form = document.getElementById('registrationForm');
			const submitBtn = document.getElementById('submitBtn');
			const nameInput = document.getElementById('full-name');
			const strengthBar = document.getElementById('strength-bar');
			const strengthText = document.getElementById('strength-text');

			// Validation functions
			function validateFullName(name) {
				const nameRegex = /^[A-Za-z\s]{2,50}$/;
				return nameRegex.test(name.trim());
			}

			function validatePhoneNumber(phone) {
				const phoneRegex = /^\d{10}$/;
				return phoneRegex.test(phone.trim());
			}

			function validateEmail(email) {
				const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
				return emailRegex.test(email.trim());
			}

			function validatePassword(password) {
				return password.length >= 8;
			}

			// Password strength checker
			function checkPasswordStrength(password) {
				let strength = 0;
				let text = '';
				let color = '';

				if (password.length >= 8) strength += 1;
				if (/[a-z]/.test(password)) strength += 1;
				if (/[A-Z]/.test(password)) strength += 1;
				if (/[0-9]/.test(password)) strength += 1;
				if (/[^A-Za-z0-9]/.test(password)) strength += 1;

				switch (strength) {
					case 0:
						text = '';
						color = 'transparent';
						break;
					case 1:
						text = 'Very Weak';
						color = '#FF6B6B';
						break;
					case 2:
						text = 'Weak';
						color = '#FFA54F';
						break;
					case 3:
						text = 'Fair';
						color = '#FFD700';
						break;
					case 4:
						text = 'Good';
						color = '#90EE90';
						break;
					case 5:
						text = 'Strong';
						color = '#2E8B57';
						break;
				}

				return {
					width: `${strength * 20}%`,
					text: text,
					color: color
				};
			}

			// Show/hide validation icons and messages
			function showValidation(field, isValid, successIcon, errorIcon, errorMessage) {
				if (isValid) {
					field.classList.remove('error');
					field.classList.add('success');
					successIcon.style.display = 'block';
					errorIcon.style.display = 'none';
					errorMessage.style.display = 'none';
				} else {
					field.classList.remove('success');
					field.classList.add('error');
					successIcon.style.display = 'none';
					errorIcon.style.display = 'block';
					errorMessage.style.display = 'block';
				}
			}

			// Auto-capitalize only the first letter
			function capitalizeFirstLetter(text) {
				if (text.length === 0) return text;
				return text.charAt(0).toUpperCase() + text.slice(1);
			}

			// Real-time validation with first letter capitalization
			nameInput.addEventListener('input', function(e) {
				const cursorPosition = e.target.selectionStart;
				let value = e.target.value;

				// Remove any non-letter and non-space characters
				value = value.replace(/[^A-Za-z\s]/g, '');

				// Limit to 50 characters
				if (value.length > 50) {
					value = value.substring(0, 50);
				}

				// Auto-capitalize only the first letter
				if (value.length > 0) {
					value = capitalizeFirstLetter(value);
				}

				// Update the value if changed
				if (e.target.value !== value) {
					e.target.value = value;
					// Restore cursor position
					e.target.setSelectionRange(cursorPosition, cursorPosition);
				}

				// Validate the name
				const isValid = validateFullName(value);
				showValidation(
					e.target,
					isValid,
					document.getElementById('name-success'),
					document.getElementById('name-error'),
					document.getElementById('name-error-message')
				);
			});

			// Also capitalize on blur
			nameInput.addEventListener('blur', function(e) {
				let value = e.target.value;
				if (value.length > 0) {
					value = capitalizeFirstLetter(value);
					if (e.target.value !== value) {
						e.target.value = value;
					}
				}
			});

			// Phone number validation
			document.getElementById('phone').addEventListener('input', function(e) {
				// Remove non-numeric characters
				let value = e.target.value.replace(/\D/g, '');

				// Limit to 10 digits
				if (value.length > 10) {
					value = value.substring(0, 10);
				}

				e.target.value = value;

				const isValid = validatePhoneNumber(value);
				showValidation(
					e.target,
					isValid,
					document.getElementById('phone-success'),
					document.getElementById('phone-error'),
					document.getElementById('phone-error-message')
				);
			});

			// Email validation
			document.getElementById('email').addEventListener('input', function(e) {
				const isValid = validateEmail(e.target.value);
				showValidation(
					e.target,
					isValid,
					document.getElementById('email-success'),
					document.getElementById('email-error'),
					document.getElementById('email-error-message')
				);
			});

			// Password validation and strength
			document.getElementById('password').addEventListener('input', function(e) {
				const password = e.target.value;
				const isValid = validatePassword(password);

				// Show validation
				showValidation(
					e.target,
					isValid,
					document.getElementById('password-success'),
					document.getElementById('password-error'),
					document.getElementById('password-error-message')
				);

				// Update strength indicator
				if (password.length === 0) {
					strengthBar.style.width = '0%';
					strengthBar.style.backgroundColor = 'transparent';
					strengthText.textContent = '';
				} else {
					const strength = checkPasswordStrength(password);
					strengthBar.style.width = strength.width;
					strengthBar.style.backgroundColor = strength.color;
					strengthText.textContent = strength.text;
					strengthText.style.color = strength.color;
				}
			});

			// Form submission validation
			form.addEventListener('submit', function(e) {
				e.preventDefault();

				const name = document.getElementById('full-name').value;
				const phone = document.getElementById('phone').value;
				const email = document.getElementById('email').value;
				const password = document.getElementById('password').value;

				const isNameValid = validateFullName(name);
				const isPhoneValid = validatePhoneNumber(phone);
				const isEmailValid = validateEmail(email);
				const isPasswordValid = validatePassword(password);

				// Trigger validation display for all fields
				document.getElementById('full-name').dispatchEvent(new Event('input'));
				document.getElementById('phone').dispatchEvent(new Event('input'));
				document.getElementById('email').dispatchEvent(new Event('input'));
				document.getElementById('password').dispatchEvent(new Event('input'));

				if (isNameValid && isPhoneValid && isEmailValid && isPasswordValid) {
					// All validations passed - submit the form
					submitBtn.disabled = true;
					submitBtn.value = 'Registering...';
					submitBtn.classList.add('loading');

					// Add a small delay to show the loading state
					setTimeout(() => {
						form.submit();
					}, 1000);
				} else {
					// Scroll to first error
					const firstError = document.querySelector('.input-text.error');
					if (firstError) {
						firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
						firstError.focus();
					}

					// Show error animation
					submitBtn.classList.remove('shake');
					setTimeout(() => {
						submitBtn.classList.add('shake');
						setTimeout(() => submitBtn.classList.remove('shake'), 500);
					}, 10);
				}
			});

			// Trim whitespace from all inputs on blur
			const inputs = document.querySelectorAll('.input-text');
			inputs.forEach(input => {
				input.addEventListener('blur', function(e) {
					e.target.value = e.target.value.trim();
					// Trigger validation after trimming
					e.target.dispatchEvent(new Event('input'));
				});
			});

			// Add focus animation
			inputs.forEach(input => {
				input.addEventListener('focus', function() {
					this.parentElement.classList.add('focused');
				});

				input.addEventListener('blur', function() {
					this.parentElement.classList.remove('focused');
				});
			});

			// Add style for focus state
			const style = document.createElement('style');
			style.textContent = `
				.form-row.focused label {
					color: var(--accent-light);
				}

				@keyframes shake {
					0%, 100% { transform: translateX(0); }
					10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
					20%, 40%, 60%, 80% { transform: translateX(5px); }
				}
			`;
			document.head.appendChild(style);
		});
	</script>

{% if msg %}
    <script>
        // Create a custom success message
        const successMsg = document.createElement('div');
        successMsg.className = 'alert-success';
        successMsg.innerHTML = `
            <i class="fas fa-check-circle"></i>
            <div>
                <h3>Registration Successful!</h3>
                <p>Welcome to Platemate! You can now login to your account.</p>
            </div>
        `;
        document.body.appendChild(successMsg);

        // Remove after 5 seconds
        setTimeout(() => {
            successMsg.style.animation = 'slideOut 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards';
            setTimeout(() => successMsg.remove(), 500);
        }, 5000);
    </script>
{% endif %}
</body>
</html>